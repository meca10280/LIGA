<!DOCTYPE html>
<html>
  <head>
    <title>LIGA: AR-Experience</title>
    <script src="js/aframe.min.js"></script>
    <script src="js/aframe-ar.js"></script>
    <style>
      body {
        margin: 0;
        font-family: Arial, sans-serif;
      }

      #instructions {
        position: fixed;
        top: 10px;
        left: 10px;
        background: rgba(0, 0, 0, 0.7);
        color: white;
        padding: 10px;
        border-radius: 5px;
        z-index: 1000;
        max-width: 300px;
      }

      #markerInfo {
        position: fixed;
        bottom: 10px;
        left: 10px;
        background: rgba(0, 0, 0, 0.7);
        color: white;
        padding: 10px;
        border-radius: 5px;
        z-index: 1000;
        display: none;
      }
    </style>
  </head>
  <body>
    <div id="markerInfo">
      <p id="currentObject">No se detecta el objeto</p>
    </div>
    <a-scene embedded arjs="sourceType: webcam; debugUIEnabled: false; detectionMode: mono_and_matrix; matrixCodeType: 3x3;" vr-mode-ui="enabled: false" renderer="logarithmicDepthBuffer: true;" loading-screen="enabled: false">
      <!-- Assets -->
      <a-assets>
        <!-- Define reusable materials -->
        <a-mixin id="text-style" geometry="primitive: plane; width: 4; height: 1" material="color: #1e3a8a; opacity: 0.8" text="align: center; color: white; font: roboto; width: 8"></a-mixin>
      </a-assets>
      <!-- Hiro Marker - Smartphone -->
      <a-marker preset="hiro" id="hiro-marker">
        <a-entity id="smartphone-description" position="0 1 0">
          <!-- 3D Phone Model -->
          <a-box position="0 0.5 0" width="0.6" height="1.2" depth="0.1" color="#2c3e50" animation="property: rotation; to: 0 360 0; loop: true; dur: 8000"></a-box>
          <!-- Screen -->
          <a-plane position="0 0.5 0.051" width="0.5" height="1" color="#4a90e2"></a-plane>
          <!-- Title -->
          <a-text value="SMARTPHONE" position="0 2 0" align="center" color="#e74c3c" scale="1.5 1.5 1.5" font="roboto"></a-text>
          <!-- Description -->
          <a-text value="A portable device that combines\nmobile phone and computing\nfunctions into one unit.\nFeatures: Touchscreen, Apps,\nInternet, Camera, GPS" position="0 -0.5 0" align="center" color="#2c3e50" scale="0.8 0.8 0.8" font="roboto"></a-text>
        </a-entity>
      </a-marker>
      <!-- Kanji Marker - Laptop -->
      <a-marker preset="kanji" id="kanji-marker">
        <a-entity id="laptop-description" position="0 1 0">
          <!-- 3D Laptop Model -->
          <a-entity>
            <!-- Base -->
            <a-box position="0 0 0" width="1.5" height="0.1" depth="1" color="#34495e"></a-box>
            <!-- Screen -->
            <a-box position="0 0.5 -0.45" width="1.4" height="1" depth="0.05" color="#2c3e50" rotation="-10 0 0"></a-box>
            <!-- Screen Display -->
            <a-plane position="0 0.5 -0.42" width="1.2" height="0.8" color="#3498db" rotation="-10 0 0"></a-plane>
          </a-entity>
          <!-- Title -->
          <a-text value="LAPTOP COMPUTER" position="0 2 0" align="center" color="#e67e22" scale="1.2 1.2 1.2" font="roboto"></a-text>
          <!-- Description -->
          <a-text value="A portable personal computer\nwith a clamshell form factor.\nFeatures: Keyboard, Trackpad,\nPortable, Battery-powered,\nFull operating system" position="0 -0.8 0" align="center" color="#2c3e50" scale="0.7 0.7 0.7" font="roboto"></a-text>
        </a-entity>
      </a-marker>
      <!-- Pattern A Marker - Coffee Cup -->
      <a-marker type="pattern" url="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js@3.4.5/data/data/patt.a" id="a-marker">
        <a-entity id="coffee-description" position="0 1 0">
          <!-- 3D Coffee Cup -->
          <a-entity>
            <!-- Cup -->
            <a-cylinder position="0 0.3 0" radius="0.3" height="0.6" color="#8b4513" animation="property: rotation; to: 0 360 0; loop: true; dur: 6000"></a-cylinder>
            <!-- Coffee -->
            <a-cylinder position="0 0.55 0" radius="0.28" height="0.1" color="#3e2723"></a-cylinder>
            <!-- Handle -->
            <a-torus position="0.35 0.3 0" radius="0.15" radius-tubular="0.03" color="#8b4513" rotation="0 0 90"></a-torus>
          </a-entity>
          <!-- Title -->
          <a-text value="COFFEE CUP" position="0 1.5 0" align="center" color="#8b4513" scale="1.3 1.3 1.3" font="roboto"></a-text>
          <!-- Description -->
          <a-text value="A drinking vessel designed\nfor hot beverages like coffee.\nFeatures: Handle for grip,\nInsulation, Various sizes,\nCeramic or paper material" position="0 -0.5 0" align="center" color="#2c3e50" scale="0.6 0.6 0.6" font="roboto"></a-text>
        </a-entity>
      </a-marker>
      <!-- Pattern B Marker - Book -->
      <a-marker type="pattern" url="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js@3.4.5/data/data/patt.b" id="b-marker">
        <a-entity id="book-description" position="0 1 0">
          <!-- 3D Book -->
          <a-box position="0 0.2 0" width="0.8" height="1.2" depth="0.15" color="#c0392b" animation="property: rotation; to: 5 365 -5; loop: true; dur: 10000"></a-box>
          <!-- Book spine -->
          <a-plane position="-0.4 0.2 0" width="1.2" height="0.15" color="#a93226" rotation="0 0 90"></a-plane>
          <!-- Title -->
          <a-text value="BOOK" position="0 1.8 0" align="center" color="#c0392b" scale="1.5 1.5 1.5" font="roboto"></a-text>
          <!-- Description -->
          <a-text value="A set of written or printed\npages bound together.\nFeatures: Knowledge storage,\nPortable learning, Pages,\nCover protection, Text & images" position="0 -0.8 0" align="center" color="#2c3e50" scale="0.7 0.7 0.7" font="roboto"></a-text>
        </a-entity>
      </a-marker>
      <!-- Camera -->
      <a-entity camera></a-entity>
    </a-scene>
    <script>
      // JavaScript for marker detection and UI updates
      document.addEventListener('DOMContentLoaded', function() {
        const markerInfo = document.getElementById('markerInfo');
        const currentObject = document.getElementById('currentObject');
        // Object descriptions
        const objectDescriptions = {
          'hiro-marker': 'Smartphone - Modern communication device',
          'kanji-marker': 'Laptop Computer - Portable computing device',
          'a-marker': 'Coffee Cup - Hot beverage container',
          'b-marker': 'Book - Knowledge and information storage'
        };
        // Add event listeners for each marker
        Object.keys(objectDescriptions).forEach(markerId => {
          const marker = document.getElementById(markerId);
          if (marker) {
            marker.addEventListener('markerFound', function() {
              markerInfo.style.display = 'block';
              currentObject.textContent = objectDescriptions[markerId];
              console.log('Marcador encontrado: ${markerId}`);
            });
            marker.addEventListener('markerLost', function() {
              markerInfo.style.display = 'none';
              currentObject.textContent = 'No se detecta el objeto';
              console.log('Marker perdido: ${markerId}`);
            });
          }
        });
        // Hide instructions after 10 seconds
        setTimeout(() => {
          const instructions = document.getElementById('instructions');
          instructions.style.opacity = '0.3';
        }, 10000);
      });
      // Add floating animation component
      AFRAME.registerComponent('floating', {
        init: function() {
          this.el.setAttribute('animation', {
            property: 'position',
            to: '0 1.2 0',
            direction: 'alternate',
            loop: true,
            dur: 2000,
            easing: 'easeInOutSine'
          });
        }
      });
    </script>
  </body>
</html>